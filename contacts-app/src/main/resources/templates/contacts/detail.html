<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Contact Details</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body class="page-root">

<div class="app-header">
    <div class="app-header-inner">
        <div class="app-title">
            Contacts <span>Manager</span>
        </div>
        <div class="app-header-actions">
            <span>Contact details</span>
        </div>
    </div>
</div>

<main class="app-main">
    <div class="card">

        <div class="card-header">
            <div>
                <h1 class="card-title">
                    <span th:text="${contact.firstName} + ' ' + ${contact.lastName}">John Doe</span>
                </h1>
                <div class="card-subtitle">
                    <span th:text="${contact.institution}">Institution</span>
                    <span th:if="${contact.country != null and !#strings.isEmpty(contact.country)}">
                        · <span th:text="${contact.country}">Country</span>
                    </span>
                </div>
            </div>
            <div class="btn-row">
                <a th:href="@{/contacts}" class="btn btn-ghost">← Back to list</a>
                <a th:href="@{/contacts/{id}/edit(id=${contact.id})}" class="btn btn-secondary">Edit</a>
            </div>
        </div>

        <div class="detail-layout" th:if="${contact != null}">

            <!-- Left: main fields -->
            <section class="detail-section">
                <h2 class="detail-section-title">Profile</h2>
                <dl class="detail-grid">
                    <div class="detail-row">
                        <dt>ID</dt>
                        <dd th:text="${contact.id}">1</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Title</dt>
                        <dd th:text="${contact.title}">Mr</dd>
                    </div>
                    <div class="detail-row">
                        <dt>First name</dt>
                        <dd th:text="${contact.firstName}">John</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Last name</dt>
                        <dd th:text="${contact.lastName}">Doe</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Gender</dt>
                        <dd th:text="${contact.gender}">M</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Group</dt>
                        <dd th:text="${contact.persGroup}">Group</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Function</dt>
                        <dd th:text="${contact.function}">Professor</dd>
                    </div>
                </dl>

                <h2 class="detail-section-title">Contact</h2>
                <dl class="detail-grid">
                    <div class="detail-row">
                        <dt>Email</dt>
                        <dd>
                            <a th:href="'mailto:' + ${contact.email}"
                               th:text="${contact.email}">john@example.com</a>
                        </dd>
                    </div>
                    <div class="detail-row">
                        <dt>Phone 1</dt>
                        <dd th:text="${contact.phone1}">+49...</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Phone 2</dt>
                        <dd th:text="${contact.phone2}">+49...</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Post address</dt>
                        <dd th:text="${contact.postAddress}">Address</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Country</dt>
                        <dd th:text="${contact.country}">Germany</dd>
                    </div>
                </dl>

                <h2 class="detail-section-title">Institution & academic</h2>
                <dl class="detail-grid">
                    <div class="detail-row">
                        <dt>Institution</dt>
                        <dd th:text="${contact.institution}">Uni</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Faculty</dt>
                        <dd th:text="${contact.faculty}">Faculty</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Study domain</dt>
                        <dd th:text="${contact.studyDomain}">CS</dd>
                    </div>
                </dl>
            </section>

            <!-- Right: flags, meta, comments -->
            <section class="detail-section detail-section-side">
                <h2 class="detail-section-title">Flags</h2>
                <dl class="detail-grid">
                    <div class="detail-row">
                        <dt>COIL experience</dt>
                        <dd>
                            <span th:if="${contact.coilExp}" class="badge badge-yes">Yes</span>
                            <span th:if="${!contact.coilExp}" class="badge badge-no">No</span>
                        </dd>
                    </div>
                    <div class="detail-row">
                        <dt>Mobility funding</dt>
                        <dd>
                            <span th:if="${contact.mobilityFin}" class="badge badge-yes">Yes</span>
                            <span th:if="${!contact.mobilityFin}" class="badge badge-no">No</span>
                        </dd>
                    </div>
                    <div class="detail-row">
                        <dt>Fund use</dt>
                        <dd th:text="${contact.fundUse}">fund?</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Past event</dt>
                        <dd th:text="${contact.pastEvent}">event</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Contact person</dt>
                        <dd th:text="${contact.contactPerson}">person</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Interest</dt>
                        <dd th:text="${contact.interest}">Interest</dd>
                    </div>
                </dl>

                <h2 class="detail-section-title">Comments</h2>
                <div class="detail-comments"
                     th:text="${#strings.isEmpty(contact.comments) ? 'No comments.' : contact.comments}">
                    comments...
                </div>

                <h2 class="detail-section-title">Audit trail</h2>
                <dl class="detail-grid">
                    <div class="detail-row">
                        <dt>Created at</dt>
                        <dd th:text="${contact.createdAt != null ? #temporals.format(contact.createdAt, 'yyyy-MM-dd HH:mm') : ''}">
                            2025-01-01
                        </dd>
                    </div>
                    <div class="detail-row">
                        <dt>Created by</dt>
                        <dd th:text="${contact.createdBy}">user</dd>
                    </div>
                    <div class="detail-row">
                        <dt>Updated at</dt>
                        <dd th:text="${contact.updatedAt != null ? #temporals.format(contact.updatedAt, 'yyyy-MM-dd HH:mm') : ''}">
                            2025-01-02
                        </dd>
                    </div>
                    <div class="detail-row">
                        <dt>Updated by</dt>
                        <dd th:text="${contact.updatedBy}">user</dd>
                    </div>
                </dl>
            </section>
        </div>

    </div>
</main>

</body>
</html>
